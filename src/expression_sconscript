import os

## This script functions as a dispatcher to the desired gene expression analysis methods.
## It sets the necessary variables and launch the expression analyses.

Import('*')

expression_results = []

circrna_dir = 'circrna'
circrna = SConscript(os.path.join(circrna_dir, 'circrna_sconscript'), variant_dir=circrna_dir,
                      src_dir=env['SCRIPT_PATH'], duplicate=0)

expression_results.append(circrna)

if not env['ANNOTATION'] == '':
    ##
    htseq_count_dir = 'htseq'
    htseq = SConscript(os.path.join(htseq_count_dir, 'htseq_count_sconscript'), 
                       variant_dir=htseq_count_dir, src_dir=env['SCRIPT_PATH'], duplicate=0)
    expression_results.append(htseq)

    ## 
    cufflinks_dir = 'cufflinks'
    cufflinks = SConscript(os.path.join(cufflinks_dir, 'cufflinks_sconscript'),
                           variant_dir=cufflinks_dir, src_dir=env['SCRIPT_PATH'], duplicate=0)
    expression_results.append(cufflinks)

Return('expression_results')
