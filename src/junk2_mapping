import os

## This script functions as a dispatcher to the desired mapper.
## It sets the necessary variables and launch the mapper.

Import('*')

reads_to_map = clean_reads
SRC_DIR = os.path.join(env['ENV']['JUNK2_HOME'], 'src')

mapping_dir = 'mappings'
make_mapping_dir = env.Command(Dir(mapping_dir), [], Mkdir('$TARGET'))
mappings = []
if env['MAPPER'].lower()=='segemehl':
    mappings.append(SConscript(os.path.join(mapping_dir, 'junk2_segemehl_mapping'), 
                    src_dir = SRC_DIR, variant_dir = mapping_dir, 
                    duplicate = 0, exports = 'env reads_to_map')
                   )
Return('mappings')
